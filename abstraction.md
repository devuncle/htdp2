# 抽象

我们的许多数据定义和函数定义看起来都相似。例如，字符串列表的定义与数字列表的定义仅在两个地方不同：数据类的名称以及单词“ String”和“ Number”。类似地，查找特定内容的函数字符串列表中的字符串与在数字列表中寻找特定数字的字符串几乎没有区别。

经验表明，这些相似性是有问题的。之所以产生相似性，是因为程序员在物理上或心理上都在复制代码。当程序员遇到与另一个大致相似的问题时，他们将复制解决方案并修改新副本以解决新问题。在“真实”编程环境以及电子表格和数学建模领域中，您都会发现这种行为。但是，复制代码意味着程序员复制错误，并且可能必须对许多副本应用相同的修复程序。这也意味着在修改或扩展基础数据定义时，必须以相应的方式找到并修改所有代码副本。这个过程既昂贵又容易出错，给编程团队增加了不必要的成本。

优秀的程序员会尽力消除编程语言所允许的相似之处。程序就像一篇论文。 第一个版本是草稿，草稿需要编辑。 “消除”意味着程序员写下他们的程序初稿，找出相似之处（和其他问题），并消除它们。 对于最后一步，它们要么抽象，要么使用现有（抽象）函数。 为了使程序达到令人满意的形状，通常需要多次迭代。

本部分的前半部分显示如何抽象函数和数据定义的相似性。 程序员还将该过程的结果称为抽象，将过程的名称及其结果混为一谈。 下半部分是关于使用现有抽象和新语言元素来促进此过程的。 尽管本部分中的示例取自列表领域，但是这些思想是普遍适用的。

## 14 相似性

如果您解决了“任意大数据”中的（部分）练习，就会知道许多解决方案看起来都是相似的。 实际上，相似之处可能会诱使您复制一个问题的解决方案以创建下一个问题的解决方案。 但是您不得窃取代码，甚至不能窃取您的密码。 相反，您必须对相似的代码段进行抽象，并且本章将教您如何抽象。

我们避免相似之处的方法专门针对“中级学生语言”或ISL。在DrRacket中，从“语言”菜单的“如何设计程序”子菜单中选择“中级学生”。 几乎所有其他编程语言都提供类似的方法。 在面向对象的语言中，您可能会发现其他抽象机制。 无论如何，这些机制都具有本章阐述的基本特征，因此，此处说明的设计思想也适用于其他情况。

### 14.1 函数中的相似性



## 15 抽象设计

## 16 使用抽象

## 17 无名函数

## 18 总结

